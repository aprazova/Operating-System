Вашата задача е да напишете инструмент за конфигуриране на bluetooth устройство. Конфигурацията представлява binary файл, който е
разделен на сегменти. Всеки сегмент е с дължина 64 байта. Първите 8 байта са мета информация, а следващите 56 съдържат
същинските данни. Всеки сегемент съдържа различен брой конфигурационни параметри на устройството. Максималният брой сегменти е 64.
Структурата на сегмента изглежда така:

Мета информация:
Мета информацията е разделена на две части. Първата част е с дължина 1 байт и показва типа на сегмента (текстови,
цифров, еднобайтов), а следващите 7 байта описват кои параметри се използват и кои не. Всеки бит отговаря за съответната опция(в
смисъла на позиция). Ако например нулевата опция от въпросния сегмент се използва от устройството, то нулевият бит
трябва да бъде 1 (обърнете внимание на индианците). В противен случай, устройството използва стойност по подразбиране и не прочита стойността на полето от конфигурационния файл.

Същинска информация:
Втората част от сегмента( останалите 56 байта) биват използвани по различен начин, спрямо типа на сегмента. Съществуват три типа 
сегменти: текстови, цифров, еднобайтов. Текстовият тип съдържа думи с максимална дължина 16 символа (16 байта), т.е. максималният
брой думи в такъв тип сегмент е 3. Цифровият сегмент разделя опциите(думите) на 4 байтови числа, т.е. максималният брой опции при него
е 14 (= 56 / 4). Еднобайтовият сегмент разделя опциите на еднобайтови думи. Максималният брой параметри е 56.


За различните конфигурационни параметри на устройството се използват различни типове сегменти. Това означава, че даден сегмент може
да съдържа смислово различни опции(DEVICE_NAME, ROM_REVISION, etc), но типът им е задължително еднакъв. В този случай типът на
сегмента е текстови.


Очаква се инструментът да поддържа следните функционалности:

./bk8000l_conf conf.bin -s device_name "DeviceN1" - Стойността на параметъра DEVICE_NAME в конфигурационния файл conf.bin бива
променена на "DeviceN1". Очаква се стойността на бита, отговарящ за конкретния параметър да бъде правилно променена също.
./bk8000l_conf conf.bin -S device_name "DeviceN1" - Същата функционалност като -s, само че битът, отговарящ за този параметър, не бива
променен.

./bk8000l_conf conf.bin -g device_name		 - извежда стойността на параметъра device_name, само ако опцията е активирана.
./bk8000l_conf conf.bin -G device_name		 - извежда стойността на параметтра device_name, без значение от стойността на бита в
мета частта.

./bk8000l_conf conf.bin -l			 - извежда списък с всички параметри в конфигурационния файл, които устройството използва.
./bk8000l_conf conf.bin -L			 - извежда списък с всички параметри в конфигурационния файл, независимо дали са активирани или не.
./bk8000l_conf conf.bin -l device_name baudrate   - извежда стойностите на подадените параметри, ако устройството ги използва. Броят подадени параметри може да бъде произволен.
./bk8000l_conf conf.bin -L device_name baudrate   - извежда стойностите на подадените параметри, без значение дали устройството ги
използва. Броят на параметрите може да бъде произволен.


./bk8000l_conf conf.bin -b device_name 1		 - (де)активира подадения параметър - променя битът отговарящ за конкретния
параметър в конфигурационния файл на 1. Другата допустима стойност е 0.

./bk8000l_conf new.bin -c 0 t 1 b 2 t 3 n		 - създава празен конфигурационен файл със съответните типове сегменти. В този
случай нулев сегмент е текстови тип, първи сегмент еднобайтов тип, втори сегмент текстови тип, трети сегмент цифров тип.

./bk8000l_conf -h			 - извежда информация, описваща различните фукнционалности, които предоставя инструментът,
както и описание за използването им.

Следва списък с всички параметри, позицията, сегментът, в който се намират и допустимите им стойности.

parameter; segment; position; valid values

device_name; 0; 0; [a-zA-Z0-9_-]
rom_revision; 0; 1; same
serial_number; 0; 2; [A-Z0-9]

bd_addr_part0; 1; 0; [A-Z0-9:]
bd_addr_part1; 1; 1; [A-Z0-9:]
bd_pass_part0; 1; 2; [a-z0-9]

serial_baudrate; 2; 0; 1200, 2400, 4800, 9600, 19200, 115200
audio_bitrate; 2; 1; 32, 96, 128, 160, 192, 256, 320
sleep_period; 2; 2; 100, 500, 1000, 5000, 10000 

serial_parity; 3; 0; N, E, O
serial_data_bit; 3; 1; 5, 6, 7, 8
serail_stop_bit; 3; 2; 0, 1

bd_pass_part1; 4; 0; [a-z0-9]
rom_checksum_part0; 4; 1; [a-z0-9]
rom_checksum_part1; 4; 3; same


Следва списък съдържащ пореден номер на сегмените и неговия тип. Тази конфигурация е специфична за конкретно устройство,
за което е задачата. Напишете инструмента с идеята, че тази поредност може да се променя.
id;type

0; text
1; text
2; numeric
3; byte
4; text

Следва списък на различните типове сегменти, идентификаторът им и описание на съхраняваните данни:
0; text; 16 byte words, NULL terminated
1; numeric; 4 byte digits
2: byte; 1 byte digits


Инструментът трябва да бъде написан на езика С, като се използват системните примитиви за работа с файлове, read, write, etc.
Използването на въшни библиотеки за работа с файлове е непрепоръчително. Очаква се инструментът да валидира подаваните
от потребителя параметри и техните стойности. Можете да приемете, че инструментът няма да бъде използван върху файлове с
невалиден формат. Помислете за различните ситуации, в които се използва инструментът - например подаденият
конфигурационен файл не съществува; подадена е опция -c и конфигурационен файл съществува, но е с друг формат, etc

Примерни конфигурации:

0000000: 00e0 0000 0000 0000 4465 7669 6365 5f6e  ........Device_n
0000010: 3100 0000 0000 0000 332e 3432 2e34 2d33  1.......3.42.4-3
0000020: 2e31 0000 0000 0000 3443 4530 3436 3044  .1......4CE0460D
0000030: 3047 0000 0000 0000 0000 0000 0000 0000  0G..............

Тесктови сегмент, на който и трите параметъра са активирани и са със следните стойност:
Device_n1 - device_name
3.42.4-3.1 - rom_revision
4CE0460D0G - serial_number


0000000: 01a0 0000 0000 0000 8025 0000 e803 0000  .........%......
0000010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
0000020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
0000030: 0000 0000 0000 0000 0000 0000 0000 0000  ................

Цифров сегмент, чиито параметри са:
9600 - serial_baudrate
160 - audio_bitrate
1000 - sleep_period

Като само serial_baudrate и sleep_period са активирани


00000000: 02e0 0000 0000 0000 4507 0100 0000 0000  ........E.......
00000010: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000020: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000030: 0000 0000 0000 0000 0000 0000 0000 0000  ................

Еднобайтов сегмент, чиито параметри са:
'E' - serial_parity
7 - serial_data_bit
1 - serial_stop_bit

Като и трите параметъра са активирани.
